import java.util.*;

public class IB_BestTimeToBuyAndSellStocks_II {
    public static void main(String argsp[]){
        int[] a =  {581, 463, 764, 813, 578, 444, 778, 477, 724, 685, 837, 252, 795, 981, 310, 112, 251, 837, 614, 802, 865, 898, 89, 624, 758, 141, 487, 276, 826, 903, 447, 51, 615, 711, 953, 830, 685, 942, 286, 386, 427, 816, 934, 976, 634, 643, 889, 377, 572, 383, 197, 966, 201, 17, 582, 716, 436, 495, 531, 457, 455, 51, 684, 487, 736, 506, 713, 269, 167, 279, 923, 147, 451, 953, 611, 996, 684, 92, 822, 292, 633, 721, 30, 849, 849, 625, 459, 604, 612, 408, 272, 358, 718, 232, 949, 647, 999, 259, 555, 615, 307, 902, 592, 63, 210, 942, 303, 672, 208, 177, 153, 66, 349, 746, 969, 858, 189, 272, 968, 788, 867, 645, 816, 444, 443, 685, 770, 876, 49, 830, 453, 173, 204, 505, 257, 714, 158, 264, 481, 47, 244, 140, 858, 207, 307, 217, 411, 928, 878, 270, 873, 798, 966, 506, 8, 80, 423, 101, 576, 325, 373, 620, 783, 377, 879, 983, 635, 909, 932, 17, 565, 276, 22, 42, 161, 76, 535, 960, 8, 86, 87, 967, 505, 801, 540, 808, 654, 127, 931, 548, 125, 135, 11, 586, 762, 19, 585, 418, 774, 74, 519, 534, 167, 7, 499, 781, 558, 724, 897, 635, 265, 913, 694, 556, 585, 337, 127, 576, 544, 987, 607, 442, 395, 145, 925, 347, 35, 17, 966, 334, 718, 384, 909, 519, 579, 169, 378, 215, 603, 856, 789, 763, 341, 243, 299, 667, 745, 767, 834, 430, 477, 626, 741, 159, 153, 999, 527, 386, 977, 248, 349, 258, 464, 794, 915, 495, 778, 737, 407, 858, 428, 492, 395, 765, 470, 699, 99, 451, 816, 444, 514, 222, 158, 422, 83, 42, 496, 206, 991, 956, 54, 712, 253, 352, 849, 445, 312, 829, 942, 881, 429, 841, 726, 115, 375, 429, 570, 648, 286, 987, 806, 726, 596, 940, 753, 3, 504, 940, 194, 138, 356, 251, 436, 181, 379, 477, 545, 989, 772, 244, 686, 132, 203, 561, 599, 151, 130, 225, 79, 479, 185, 623, 710, 19, 154, 795, 487, 184, 524, 682, 107, 42, 897, 137, 709, 714, 470, 296, 774, 436, 561, 609, 266, 917, 373, 637, 553, 165, 676, 40, 906, 134, 809, 782, 889, 649, 328, 484, 556, 526, 997, 799, 174, 857, 282, 213, 110, 810, 41, 224, 385, 644, 82, 98, 465, 879, 432, 624, 996, 552, 304, 352, 421, 188, 342, 127, 884, 399, 377, 266, 541, 286, 150, 216, 208, 489, 760, 986, 331, 614, 788, 578, 480, 363, 454, 808, 535, 65, 387, 175, 477, 582, 489, 760, 295, 440, 424, 806, 903, 853, 969, 505, 449, 241, 10, 590, 138, 847, 675, 284, 400, 623, 765, 531, 115, 220, 238, 515, 833, 710, 324, 621, 814, 491, 864, 795, 451, 223, 619, 336, 684, 443, 975, 745, 145, 99, 340, 469, 261, 114, 237, 820, 243, 991, 702, 239, 699, 893, 46, 941, 843, 338, 941, 540, 813, 499, 794, 48, 766, 575, 834, 879, 316, 137, 882, 522, 681, 307, 212, 576, 405, 968, 270, 337, 156, 882, 403, 7, 942, 447, 855, 196, 584, 875, 938, 622, 379, 448, 232, 838, 575, 594, 630, 629, 678, 342, 751, 865, 872, 241, 780, 535, 920, 613, 421, 416, 461, 248, 471, 868, 103, 875, 186, 884, 158, 787, 684, 575, 63, 45, 34, 217, 31, 186, 575, 724, 861, 504, 758, 546, 128, 764, 956, 901, 951, 254, 14, 100, 764, 291, 84, 627, 558, 875, 488, 702, 627, 509, 214, 521, 24, 206, 944, 334, 994, 943, 733, 768, 4, 889, 732, 105, 528, 863, 997, 987, 1000, 616, 635, 965, 841, 312, 452, 898, 915, 580, 842, 517, 239, 117, 721, 907, 533, 366, 719, 510, 53, 324, 951, 27, 230, 802, 695, 527, 341, 766, 321, 841, 780, 146, 366, 383, 935, 343, 824, 546, 842, 221, 721, 504, 168, 547, 421, 399, 965, 774, 583, 80, 607, 672, 871, 42, 730, 777, 232, 146, 844, 963, 229, 105, 739, 760, 963, 185, 555, 945, 432, 287, 644, 810, 577, 720, 644, 978, 27, 499, 469, 761, 147, 533, 825, 828, 277, 453, 652, 107, 349, 979, 860, 724, 930, 51, 957, 468, 876, 691, 971, 472, 602, 991, 992, 172, 824, 285, 250, 508, 817, 176, 180, 65, 963, 135, 863, 317, 780, 852, 656, 750, 46, 21, 453, 143, 264, 822, 819, 150, 288, 937, 89, 689, 533, 78, 191, 389, 891, 686, 455, 970, 151, 453, 260, 475, 447, 514, 78, 36, 441, 377, 65, 151, 374, 137, 395, 413, 480, 379, 409, 842, 610, 175, 100, 956, 592, 238, 424, 673, 690, 456, 922, 128, 421, 684, 980, 960, 488, 203, 621, 725, 160, 397, 95, 223, 799, 828, 995, 127, 799, 314, 332, 253, 966, 75, 156, 898, 216, 958, 284, 210, 780, 809, 399, 258, 125, 320, 779, 732, 158, 805, 86, 423, 183, 140, 257, 960, 268, 477, 615, 963, 885, 957, 396, 670, 741, 333, 408, 529, 744, 128, 422, 418, 992, 493, 720, 863, 348, 322, 662, 441, 614, 819, 925, 10, 387, 175, 707, 379, 715, 14, 272, 435, 490, 322, 643, 54, 692, 406, 28, 879, 990, 95, 360, 920, 444, 202, 761, 366, 883, 430, 886, 162, 685, 971, 277, 668, 576, 715, 375, 993, 944, 651, 927, 690, 534, 41, 268, 173, 79, 962, 553, 8, 655, 954, 847, 142, 298, 858, 545, 468, 280, 629, 820, 454, 531, 196, 654, 474, 312, 739, 772, 525, 459, 621, 611, 776, 162, 692, 993, 242, 364, 821, 412, 59, 662, 297, 170, 642, 397, 758, 187, 790, 158, 825, 937, 441, 636, 868, 148, 280, 853, 554, 928, 162, 682, 731, 140, 174, 197, 505, 497, 262, 796, 356, 704, 626, 299, 561, 17, 920, 992, 885, 207, 466, 429, 391, 823, 533, 581, 18, 222, 225, 661, 300, 62, 606, 902, 144, 1, 96, 578, 526, 893, 251, 116, 88, 17, 292, 880, 356, 711, 274, 53, 63, 790, 463, 411, 105, 199, 233, 920, 960, 352, 909, 314, 542, 235, 862, 376, 5, 722, 862, 863, 822, 610, 971, 288, 29, 266, 23, 511, 117, 203, 856, 824, 393, 499, 303, 613, 242, 86, 171, 621, 499, 903, 959, 499, 863, 486, 31, 147, 595, 449, 495, 926, 369, 635, 489, 112, 672, 764, 673, 144, 440, 567, 274, 74, 263, 931, 918, 75, 86, 870, 412, 174, 509, 804, 144, 806, 902, 466, 174, 981, 634, 906, 649, 415, 236, 950, 782, 694, 432, 606, 687, 693, 705, 970, 967, 79, 905, 7, 33, 953, 844, 830, 642, 829, 568, 393, 51, 446, 280, 860, 26, 576, 509, 913, 518, 309, 206, 361, 946, 124, 544, 226, 40, 501, 690, 1000, 958, 513, 775, 384, 583, 916, 673, 231, 226, 313, 76, 344, 344, 769, 17, 819, 356, 677, 502, 311, 232, 69, 344, 781, 292, 28, 585, 655, 501, 148, 970, 376, 471, 402, 18, 709, 558, 203, 296, 413, 882, 125, 905, 422, 691, 278, 12, 229, 436, 437, 829, 306, 504, 872, 969, 961, 698, 242, 201, 665, 521, 490, 794, 331, 91, 745, 824, 334, 150, 921, 6, 807, 863, 18, 633, 729, 686, 576, 793, 546, 790, 125, 638, 178, 332, 731, 737, 900, 683, 493, 228, 907, 778, 705, 3, 575, 154, 808, 487, 429, 521, 353, 32, 814, 28, 167, 296, 604, 72, 470, 478, 503, 472, 859, 665, 988, 641, 719, 508, 341, 506, 849, 590, 752, 164, 302, 447, 552, 607, 250, 918, 589, 553, 638, 665, 519, 465, 810, 453, 56, 263, 92, 828, 239, 109, 197, 84, 638, 137, 782, 776, 809, 422, 65, 846, 957, 764, 105, 577, 849, 137, 407, 508, 526, 193, 265, 700, 182, 571, 93, 728, 405, 676, 907, 227, 767, 12, 158, 349, 782, 260, 99, 456, 547, 246, 579, 488, 39, 5, 435, 627, 75, 774, 772, 489, 646, 893, 199, 151, 713, 761, 138, 362, 496, 364, 354, 792, 905, 365, 994, 564, 685, 709, 657, 557, 376, 182, 693, 387, 954, 949, 255, 763, 41, 347, 990, 238, 723, 214, 117, 51, 496, 524, 453, 965, 466, 972, 787, 305, 58, 417, 282, 44, 45, 807, 195, 123, 272, 504, 479, 756, 147, 800, 635, 454, 945, 621, 509, 240, 989, 533, 147, 116, 889, 100, 363, 455, 685, 805, 380, 458, 636, 418, 19, 29, 349, 828, 792, 262, 182, 702, 714, 969, 657, 915, 951, 679, 981, 637, 665, 22, 926, 868, 759, 894, 224, 221, 108, 359, 705, 366, 443, 5, 292, 656, 351, 165, 258, 140, 710, 911, 966, 668, 715, 627, 101, 800, 711, 479, 940, 78, 783, 786, 310, 104, 697, 470, 40, 912, 997, 673, 55, 499, 325, 727, 546, 586, 124, 599, 365, 631, 341, 477, 117, 494, 192, 697, 674, 795, 554, 219, 490, 119, 493, 454, 508, 854, 126, 851, 120, 56, 164, 304, 669, 845, 592, 590, 902, 414, 443, 486, 737, 356, 547, 851, 982, 250, 22, 19, 971, 192, 39, 35, 414, 204, 464, 799, 184, 699, 283, 501, 891, 769, 692, 255, 557, 79, 204, 313, 727, 677, 241, 713, 736, 174, 80, 118, 176, 992, 274, 53, 317, 57, 253, 590, 863, 787, 142, 247, 389, 560, 703, 692, 112, 293, 194, 854, 806, 78, 270, 458, 903, 843, 59, 840, 380, 394, 316, 305, 817, 156, 864, 543, 933, 99, 595, 997, 713, 856, 342, 867, 563, 899, 524, 53, 396, 233, 141, 2, 616, 454, 211, 636, 436, 194, 303, 257, 45, 900, 888, 930, 863, 276, 274, 440, 931, 410, 633, 687, 845, 625, 773, 900, 683, 526, 31, 250, 892, 616, 469, 53, 827, 939, 150, 383, 955, 686, 370, 295, 59, 121, 954, 902, 226, 350, 352, 652, 650, 92, 17, 777, 860, 563, 456, 363, 684, 921, 859, 279, 185, 914, 898, 772, 81, 594, 789, 519, 436, 542, 655, 561, 884, 450, 828, 880, 239, 299, 278, 636, 292, 537, 129, 508, 535, 564, 470, 964, 980, 317, 44, 25, 324, 285, 59, 310, 979, 857, 522, 166, 66, 301, 267, 675, 272, 578, 368, 754, 57, 696, 993, 941, 804, 535, 956, 982, 230, 305, 570, 645, 914, 941, 320, 697, 315, 259, 810, 216, 719, 30, 87, 214, 241, 264, 666, 710, 174, 122, 648, 633, 980, 187, 682, 127, 597, 881, 595, 317, 653, 741, 974, 407, 281, 811, 49, 250, 365, 623, 954, 129, 366, 521, 381, 543, 339, 531, 360, 678, 979, 304, 262, 578, 686, 109, 114, 66, 787, 844, 104, 829, 772, 450, 195, 371, 635, 115, 786, 747, 687, 538, 891, 738, 363, 781, 23, 415, 611, 659, 457, 232, 514, 672, 885, 955, 302, 506, 936, 99, 982, 973, 445, 974, 113, 657, 132, 328, 903, 956, 588, 214, 991, 889, 843, 313, 534, 547, 88, 517, 633, 449, 152, 58, 622, 701, 59, 954, 413, 379, 844, 609, 331, 186, 183, 548, 790, 878, 904, 780, 261, 421, 610, 35, 554, 439, 494, 472, 324, 507, 441, 643, 321, 589, 894, 606, 983, 867, 348, 275, 357, 42, 331, 343, 578, 890, 426, 931, 613, 186, 571, 433, 413, 595, 358, 159, 895, 702, 824, 812, 595, 121, 185, 178, 61, 247, 365, 91, 371, 43, 418, 267, 764, 490, 40, 135, 4, 489, 500, 915, 671, 92, 563, 31, 128, 642, 269, 918, 97, 489, 602, 574, 666, 911, 434, 470, 580, 439, 343, 278, 417, 814, 857, 525, 8, 862, 643, 87, 628, 444, 827, 855, 69, 266, 321, 391, 72, 832, 783, 756, 657, 183, 716, 788, 589, 856, 509, 138, 554, 142, 689, 321, 845, 289, 500, 692, 239, 306, 684, 654, 206, 822, 780, 92, 184, 653, 3, 921, 14, 922, 299, 351, 567, 958, 423, 469, 747, 431, 301, 725, 157, 204, 357, 623, 817, 435, 819, 859, 779, 466, 63, 972, 315, 650, 177, 1, 978, 2, 240, 354, 957, 454, 345, 884, 129, 768, 518, 235, 303, 395, 975, 479, 643, 219, 552, 880, 950, 824, 198, 693, 5, 319, 545, 656, 596, 223, 277, 216, 868, 765, 287, 350, 188, 639, 167, 763, 159, 814, 396, 414, 521, 636, 338, 133, 525, 542, 562, 211, 526, 18, 641, 54, 184, 1000, 658, 734, 893, 698, 125, 191, 814, 168, 893, 625, 537, 12, 510, 542, 540, 441, 195, 6, 409, 309, 265, 866, 948, 438, 866, 349, 267, 613, 387, 729, 852, 62, 579, 336, 921, 737, 150, 986, 282, 248, 981, 453, 794, 217, 64, 608, 697, 564, 979, 314, 425, 612, 650, 32, 778, 374, 363, 285, 202, 253, 511, 658, 764, 703, 530, 19, 943, 526, 41, 407, 458, 872, 327, 125, 771, 27, 638, 985, 495, 727, 379, 431, 101, 533, 932, 242, 574, 435, 193, 717, 991, 922, 631, 236, 628, 278, 542, 786, 41, 871, 381, 222, 919, 512, 629, 361, 888, 450, 938, 789, 780, 598, 989, 226, 604, 927, 47, 43, 94, 231, 19, 327, 654, 860, 55, 939, 318, 21, 18, 515, 386, 37, 743, 3, 920, 200, 684, 723, 537, 865, 57, 811, 437, 479, 304, 628, 624, 824, 407, 260, 869, 258, 71, 583, 486, 172, 886, 143, 456, 419, 696, 379, 8, 311, 917, 157, 467, 665, 879, 366, 945, 400, 911, 580, 37, 987, 22, 486, 896, 742, 153, 970, 34, 752, 198, 59, 745, 557, 77, 43, 686, 710, 639, 500, 149, 207, 484, 512, 228, 359, 600, 247, 3, 137, 3, 183, 661, 749, 248, 654, 278, 694, 261, 350, 852, 887, 494, 935, 989, 27, 414, 577, 665, 954, 230, 158, 439, 430, 506, 24, 44, 805, 98, 985, 762, 583, 936, 823, 873, 832, 847, 535, 483, 788, 605, 567, 818, 660, 292, 408, 156, 475, 624, 172, 411, 831, 847, 258, 183, 624, 290, 518, 622, 733, 220, 710, 463, 555, 641, 851, 556, 157, 872, 461, 201, 157, 62, 615, 651, 674, 652, 188, 358, 830, 53, 175, 538, 414, 339, 259, 445, 309, 893, 680, 115, 591, 465, 880, 850, 185, 922, 610, 220, 430, 344, 191, 753, 522, 655, 739, 108, 886, 386, 501, 343, 636, 248, 574, 154, 945, 512, 489, 573, 704, 894, 638, 449, 649, 722, 119, 687, 356, 135, 661, 853, 227, 188, 259, 467, 267, 188, 823, 457, 198, 454, 20, 594, 976, 149, 618, 929, 903, 475, 701, 656, 313, 276, 64, 470, 950, 371, 300, 523, 739, 445, 893, 995, 834, 872, 761, 21, 321, 867, 353, 155, 238, 597, 854, 617, 92, 217, 649, 257, 785, 68, 15, 5, 938, 484, 175, 280, 725, 746, 748, 252, 36, 574, 492, 545, 568, 471, 621, 444, 732, 86, 111, 700, 285, 588, 217, 495, 171, 448, 869, 126, 745, 723, 431, 588, 61, 62, 969, 479, 188, 612, 515, 206, 681, 424, 91, 96, 141, 601, 455, 607, 157, 484, 311, 948, 243, 123, 145, 588, 373, 594, 577, 263, 924, 561, 505, 910, 918, 771, 544, 90, 103, 292, 136, 535, 456, 298, 797, 827, 791, 803, 548, 123, 531, 656, 12, 415, 439, 810, 468, 604, 85, 31, 69, 119, 576, 664, 430, 864, 335, 766, 475, 488, 148, 681, 817, 87, 226, 51, 334, 868, 739, 600, 815, 294, 709, 429, 943, 892, 115, 90, 917, 937, 942, 68, 909, 63, 574, 614, 883, 622, 908, 730, 491};

        System.out.println(a.length);
        a= new int[6];
        a= new int[]{630, 197, 197, 821, 923, 752};
//        while(true){
//            for(int i = 0;i<6;i++){
//                a[i] = rd(11,999);
//            }
//            Solution s = new Solution();
//            List<Integer> x = new ArrayList<Integer>();
//            for(int i = 0;i<a.length;i++){
//                x.add(a[i]);
//            }
//            int p=  s.maxProfit(x);
//            int q = s.maxProfit2(x);
//            if(p!=q){
//                System.out.println("-----");
//                System.out.println(Arrays.toString(a));
//                break;
//            }
//        }



        Solution s = new Solution();
        List<Integer> x = new ArrayList<Integer>();
        for(int i = 0;i<a.length;i++){
            x.add(a[i]);
        }
        System.out.println(s.maxProfit(x));
//        s.maxProfit2(x);

    }
    public static int rd(int min, int max) {
        Random random = new Random();
        return random.ints(min, max)
                .findFirst()
                .getAsInt();
    }

    public static class Solution {
        // DO NOT MODIFY THE LIST. IT IS READ ONLY
        public int maxProfit(final List<Integer> B) {
            System.out.println("My sol");
            if(B.size()<2){
                return 0;
            }

            ArrayList<Integer> C = new ArrayList<Integer>();
            C.add(B.get(0));
            for(int i=1;i<B.size();i++){
                if(B.get(i)-B.get(i-1)==0){
                    System.out.println("YAHA AAYA "+B.get(i));
                    continue;
                }
                C.add(B.get(i));
            }
            int[] A = new int[C.size()];
            for(int i = 0;i<C.size();i++){
                A[i]= C.get(i);
            }

           System.out.println(Arrays.toString(A));

            if(A.length<2){
                return 0;
            }
            int[] slope = new int[A.length];
            if(A[1]>A[0]){
                slope[0] =-1;
            }
            if(A[1]<A[0]){
                slope[0] =1;
            }
            if(A[A.length-2]>A[A.length-1]){
                slope[A.length-1]=-1;
            }
            if(A[A.length-2]<A[A.length-1]){
                slope[A.length-1]=1;
            }
            for(int i= 1;i<A.length-1;i++){
                if(A[i]<A[i+1] && A[i]<A[i-1]){

                    slope[i]=-1;





                    continue;
                }
                if(A[i]>A[i+1] && A[i]>A[i-1]){


                    slope[i]=1;


                    continue;
                }


            }
            boolean tobuy = true;
            int b = 0;
            int profit = 0;
            for(int i = 0;i<A.length;i++){
                if(tobuy){
                    if(slope[i]==-1){

                        b = A[i];
                        tobuy = false;
                    }


                }else{
                    if(slope[i]==1){

                        profit += A[i]-b;
                        tobuy = true;
                    }

                }



            }
            return profit;


        }
        public int maxProfit2(final List<Integer> B) {
            System.out.println("My sol2");
            int[] A = new int[B.size()];
            for(int i = 0;i<B.size();i++){
                A[i]= B.get(i);
            }
            int[] dp= new int[A.length];
            int n = A.length;
            int buy=A[0];
            for(int i=1;i<n;i++){

                if(A[i]<buy){
                    System.out.println("Buy at "+A[i]);
                    buy=A[i];
                    dp[i]=dp[i-1];
                }
                else
                {
                    System.out.println("Sell at "+A[i]);
                    int profit=A[i]-buy;
                    dp[i]= dp[i-1] + profit;
                    buy=A[i];
                }
            }
            return dp[n-1];



        }
    }



}
//    The expected return value:
//        552236226
//        Your function returned the following:
//        551663269